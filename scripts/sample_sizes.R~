source('scripts/das_data_preprocessing.R')

library('xtable')

n_sum <- vector()

for(au in au_names) {
 a <- subsetByVar(das, "area_unit_name", au)
 mean_summary <- a %>% group_by(sale_year) %>% dplyr::summarise(n_sale_year = n())
 au_name <- rep(au, nrow(mean_summary))
 au_n_sum <- cbind(au_name, mean_summary)
 n_sum <- rbind(n_sum, au_n_sum)
}

n_sum_dcast <- dcast(n_sum, formula = au_name~sale_year,fun.aggregate = sum,value.var = "n_sale_year")

print(xtable(n_sum_dcast, type = "latex"))

binWidth <- 10
h <- hist(n_sum$n_sale_year, col="gray", xlab = "", labels = FALSE, xlim = c(0,max), w=binWidth)
 